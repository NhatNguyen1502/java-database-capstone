<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Registration - Smart Clinic</title>
    <link rel="icon" type="image/png" th:href="@{/assets/images/logo/logo.png}" />
    <link rel="stylesheet" th:href="@{/assets/css/style.css}">
    <link rel="stylesheet" th:href="@{/assets/css/auth.css}">
</head>
<body>
    <div class="auth-container">
        <div class="auth-card auth-card-large">
            <div class="auth-header">
                <img th:src="@{/assets/images/logo/logo.png}" alt="Smart Clinic Logo" class="auth-logo">
                <h2>Patient Registration</h2>
                <p class="auth-subtitle">Create your account to book appointments</p>
            </div>
            
            <!-- Error message -->
            <div th:if="${error}" class="alert alert-error">
                <svg class="alert-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                          d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <p th:text="${error}"></p>
            </div>

            <form th:action="@{/patient/register}" th:object="${patient}" method="post" class="auth-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="firstName">First Name *</label>
                        <input type="text" 
                               id="firstName" 
                               th:field="*{firstName}" 
                               class="input-field"
                               placeholder="Enter first name"
                               required
                               autofocus>
                        <span th:if="${#fields.hasErrors('firstName')}" 
                              th:errors="*{firstName}" 
                              class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label for="lastName">Last Name *</label>
                        <input type="text" 
                               id="lastName" 
                               th:field="*{lastName}" 
                               class="input-field"
                               placeholder="Enter last name"
                               required>
                        <span th:if="${#fields.hasErrors('lastName')}" 
                              th:errors="*{lastName}" 
                              class="error-message"></span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="email">Email *</label>
                    <input type="email" 
                           id="email" 
                           th:field="*{email}" 
                           class="input-field"
                           placeholder="Enter your email"
                           required>
                    <span th:if="${#fields.hasErrors('email')}" 
                          th:errors="*{email}" 
                          class="error-message"></span>
                </div>

                <div class="form-group">
                    <label for="password">Password *</label>
                    <input type="password" 
                           id="password" 
                           th:field="*{password}" 
                           class="input-field"
                           placeholder="Create a strong password"
                           required>
                    <span th:if="${#fields.hasErrors('password')}" 
                          th:errors="*{password}" 
                          class="error-message"></span>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="phoneNumber">Phone Number *</label>
                        <input type="tel" 
                               id="phoneNumber" 
                               th:field="*{phoneNumber}" 
                               class="input-field"
                               placeholder="Enter phone number"
                               required>
                        <span th:if="${#fields.hasErrors('phoneNumber')}" 
                              th:errors="*{phoneNumber}" 
                              class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label for="dateOfBirth">Date of Birth *</label>
                        <input type="date" 
                               id="dateOfBirth" 
                               th:field="*{dateOfBirth}" 
                               class="input-field"
                               required>
                        <span th:if="${#fields.hasErrors('dateOfBirth')}" 
                              th:errors="*{dateOfBirth}" 
                              class="error-message"></span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="gender">Gender *</label>
                    <select id="gender" 
                            th:field="*{gender}" 
                            class="input-field"
                            required>
                        <option value="">Select gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                    <span th:if="${#fields.hasErrors('gender')}" 
                          th:errors="*{gender}" 
                          class="error-message"></span>
                </div>

                <div class="form-group">
                    <label for="address">Address</label>
                    <textarea id="address" 
                              th:field="*{address}" 
                              class="input-field"
                              placeholder="Enter your address"
                              rows="3"></textarea>
                    <span th:if="${#fields.hasErrors('address')}" 
                          th:errors="*{address}" 
                          class="error-message"></span>
                </div>

                <button type="submit" class="btn btn-primary">
                    <span>Create Account</span>
                    <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                              d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>
                    </svg>
                </button>
            </form>

            <div class="auth-links">
                <p>Already have an account? <a th:href="@{/patient/login}">Login here</a></p>
                <a th:href="@{/}">‚Üê Back to Home</a>
            </div>
        </div>
    </div>
</body>
</html>
